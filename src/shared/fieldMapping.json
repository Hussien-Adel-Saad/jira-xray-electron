{
  "meta": {
    "version": "1.4.0",
    "description": "Production-ready field mapping with validated allowed values",
    "apiVersion": "jira-rest-v2"
  },
  "common": {
    "project": {
      "jiraField": "project",
      "type": "object",
      "required": true,
      "format": { "key": "string" }
    },
    "issueType": {
      "jiraField": "issuetype",
      "type": "object",
      "required": true,
      "format": { "name": "string" },
      "allowedValues": ["Test", "Test Set", "Test Execution", "Test Plan"]
    },
    "summary": {
      "jiraField": "summary",
      "type": "string",
      "required": true
    },
    "description": {
      "jiraField": "description",
      "type": "text",
      "required": false,
      "richText": true
    },
    "priority": {
      "jiraField": "priority",
      "type": "object",
      "required": false,
      "format": { "id": "string" },
      "suggestionSource": "dynamic",
      "allowedValues": [
        { "id": "1", "name": "Highest" },
        { "id": "2", "name": "High" },
        { "id": "3", "name": "Medium" },
        { "id": "4", "name": "Low" },
        { "id": "5", "name": "Lowest" }
      ]
    },
    "components": {
      "jiraField": "components",
      "type": "array",
      "required": false,
      "format": [{ "id": "string" }],
      "suggestionSource": "dynamic"
    },
    "labels": {
      "jiraField": "labels",
      "type": "array",
      "required": false,
      "itemsType": "string",
      "suggestionSource": "labels"
    },
    "fixVersions": {
      "jiraField": "fixVersions",
      "type": "array",
      "required": false,
      "format": [{ "id": "string" }],
      "suggestionSource": "dynamic"
    },
    "assignee": {
      "jiraField": "assignee",
      "type": "object",
      "required": false,
      "format": { "name": "string" }
    },
    "reporter": {
      "jiraField": "reporter",
      "type": "object",
      "required": false,
      "format": { "name": "string" }
    },
    "environment": {
      "jiraField": "environment",
      "type": "string",
      "required": false
    },
    "dueDate": {
      "jiraField": "duedate",
      "type": "date",
      "required": false
    }
  },
  "issueTypes": {
    "Test": {
      "jiraIssueTypeName": "Test",
      "xray": {
        "testType": {
          "jiraField": "customfield_13900",
          "type": "object",
          "required": true,
          "format": { "value": "string" },
          "allowedValues": [
            { "value": "Manual" },
            { "value": "Cucumber" },
            { "value": "Generic" }
          ]
        },
        "cucumberTestType": {
          "jiraField": "customfield_13737",
          "type": "object",
          "required": false,
          "format": { "value": "string" },
          "allowedValues": [
            { "value": "Scenario" },
            { "value": "Scenario Outline" }
          ]
        },
        "testRepositoryPath": {
          "jiraField": "customfield_12411",
          "type": "string",
          "required": false
        },
        "preconditions": {
          "jiraField": "customfield_12408",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Precondition"]
        },
        "testSets": {
          "jiraField": "customfield_12407",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Test Set"]
        },
        "testPlans": {
          "jiraField": "customfield_12409",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Test Plan"]
        }
      }
    },
    "Test Set": {
      "jiraIssueTypeName": "Test Set",
      "xray": {
        "tests": {
          "jiraField": "customfield_12412",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Test"]
        }
      }
    },
    "Test Execution": {
      "jiraIssueTypeName": "Test Execution",
      "xray": {
        "beginDate": {
          "jiraField": "customfield_27000",
          "type": "datetime",
          "required": false
        },
        "endDate": {
          "jiraField": "customfield_27001",
          "type": "datetime",
          "required": false
        },
        "revision": {
          "jiraField": "customfield_27002",
          "type": "string",
          "required": false
        },
        "testEnvironments": {
          "jiraField": "customfield_12425",
          "type": "array",
          "required": false,
          "format": [{ "value": "string" }],
          "allowedValues": [
            { "value": "UAT" },
            { "value": "Staging" },
            { "value": "Production" },
            { "value": "Development" }
          ]
        },
        "tests": {
          "jiraField": "customfield_12415",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Test"]
        }
      }
    },
    "Test Plan": {
      "jiraIssueTypeName": "Test Plan",
      "xray": {
        "beginDate": {
          "jiraField": "customfield_27000",
          "type": "datetime",
          "required": false
        },
        "endDate": {
          "jiraField": "customfield_27001",
          "type": "datetime",
          "required": false
        },
        "tests": {
          "jiraField": "customfield_12426",
          "type": "array",
          "required": false,
          "validateIssueKeys": true,
          "issueTypeFilter": ["Test"]
        }
      }
    }
  }
}
